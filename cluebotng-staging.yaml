source:
  url: https://github.com/cluebotng/component-configs.git
  branch: main
  path: cluebotng-staging.yaml
components:
  bot:
    build:
      repository: https://github.com/cluebotng/botng.git
      ref: v0.0.39
      use_latest_versions: true
    run:
      command: botng --irc-relay --debug
      cpu: "0.5"
      memory: 1Gi
      port: 8118
      health_check_http: /health
  core:
    build:
      repository: https://github.com/cluebotng/external-core.git
      ref: refs/tags/v0.0.2
      use_latest_versions: true
    run:
      command: ./cluebotng -l -m live_run
      cpu: "0.5"
      memory: 0.5Gi
      port: 3565
  grafana-alloy:
    build:
      repository: https://github.com/cluebotng/external-grafana-alloy.git
      ref: refs/tags/v0.2.6
      use_latest_versions: true
    run:
      command: run-alloy
      cpu: '0.5'
      memory: 0.5Gi
      port: 8118
      health_check_http: /health
      mount: all
  redis:
    build:
      repository: https://github.com/cluebotng/external-redis.git
      ref: main
      use_latest_versions: true
    run:
      command: redis-server
      port: 6379
